(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2749a10c"],{"1fba":function(t,e,o){},"1fd0":function(t,e,o){t.exports=o.p+"img/test.9ca0306f.png"},"3f10":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("puzzle",t._b({on:{next:t.handleNext}},"puzzle",t.puzzleConfig[t.level],!1))],1)},i=[],r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"puzzle",style:{width:t.width+"px",height:t.height+"px"}},[t._l(t.blockPoints,(function(e,n){return o("div",{key:e.id,ref:n===t.blockPoints.length-1?"empty":"block",refInFor:!0,staticClass:"puzzle__block",style:{width:t.blockWidth+"px",height:t.blockHeight+"px",left:e.x+"px",top:e.y+"px",backgroundImage:"url("+t.img+")",backgroundPosition:"-"+t.correctPoints[n].x+"px  -"+t.correctPoints[n].y+"px",opacity:n===t.blockPoints.length-1&&0},attrs:{"data-correctX":t.correctPoints[n].x,"data-correctY":t.correctPoints[n].y},on:{click:t.handleClick}})})),t._m(0),t._m(1)],2)},l=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"title"},[o("p",[t._v("拼图游戏")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"picture"},[n("img",{attrs:{src:o("1fd0"),alt:""}})])}],c=o("2909"),s=(o("a9e3"),o("4e82"),{props:{width:{type:Number,default:500},height:{type:Number,default:500},row:{type:Number,default:3},col:{type:Number,default:3},img:{type:String,required:!0}},computed:{blockWidth:function(){return this.width/this.col},blockHeight:function(){return this.height/this.row},correctPoints:function(){for(var t=this.row,e=this.blockWidth,o=this.blockHeight,n=[],i=0;i<t;i++)for(var r=0;r<t;r++)n.push({x:r*e,y:i*o,id:(new Date).getTime()+100*Math.random()});return n},blockPoints:function(){var t=this.correctPoints,e=t.length,o=t[e-1],n=Object(c["a"])(t);return n.length=e-1,n.sort((function(){return Math.random()-.5})),n.push(o),n}},methods:{handleClick:function(t){var e=t.target,o=this.$refs.empty[0];if(this.isAdjacent(e,o)){var n=e.style,i=n.left,r=n.top;e.style.left=o.style.left,e.style.top=o.style.top,o.style.left=i,o.style.top=r;var l=this.checkWin();l&&this.winGame(o)}},isAdjacent:function(t,e){var o=t.style,n=o.left,i=o.top,r=o.width,l=o.height,c=e.style,s=c.left,a=c.top,u=Math.floor(Math.abs(parseFloat(n)-parseFloat(s))),h=Math.floor(Math.abs(parseFloat(i)-parseFloat(a))),f=n===s&&h===parseInt(l)||i===a&&u===parseInt(r);return f},checkWin:function(){var t=this.$refs.block;return t.every((function(t){var e=t.style,o=e.left,n=e.top,i=t.dataset,r=i.correctx,l=i.correcty,c=parseInt(o)===parseInt(r)&&parseInt(n)===parseInt(l);return c}))},winGame:function(t){var e=this;setTimeout((function(){alert("you are so great!"),t.style.opacity=1,setTimeout((function(){e.goToNextLevel()}),300)}),300)},goToNextLevel:function(){console.log("aaa");var t=window.confirm("继续下一关？");t&&this.$emit("next")}}}),a=s,u=(o("5473"),o("2877")),h=Object(u["a"])(a,r,l,!1,null,null,null),f=h.exports,p={components:{Puzzle:f},data:function(){return{level:0,puzzleConfig:[{row:3,col:3,img:o("1fd0")},{row:4,col:4,img:o("1fd0")},{row:5,col:5,img:o("1fd0")},{row:6,col:6,img:o("1fd0")},{row:8,col:8,img:o("1fd0")}]}},methods:{handleNext:function(){if(this.level++,this.level==this.puzzleConfig.length){var t=window.confirm("已经是最后一关了，是否重新开始？");t&&(this.level=0)}console.log("next")}}},d=p,g=Object(u["a"])(d,n,i,!1,null,null,null);e["default"]=g.exports},5473:function(t,e,o){"use strict";o("1fba")}}]);
//# sourceMappingURL=chunk-2749a10c.35a2c115.js.map