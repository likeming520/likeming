{"version":3,"sources":["webpack:///./src/assets/img/game/test.png","webpack:///./src/views/person/Person.vue?1382","webpack:///./src/views/person/childComps/Puzzle.vue?20e2","webpack:///src/views/person/childComps/Puzzle.vue","webpack:///./src/views/person/childComps/Puzzle.vue?6f35","webpack:///./src/views/person/childComps/Puzzle.vue","webpack:///src/views/person/Person.vue","webpack:///./src/views/person/Person.vue?2b62","webpack:///./src/views/person/Person.vue","webpack:///./src/views/person/childComps/Puzzle.vue?0ef4"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","_b","on","handleNext","puzzleConfig","level","staticRenderFns","staticClass","style","width","height","_l","item","index","key","id","ref","blockPoints","length","refInFor","blockWidth","blockHeight","left","x","top","y","backgroundImage","img","backgroundPosition","correctPoints","opacity","attrs","handleClick","_m","_v","component"],"mappings":"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","file":"js/chunk-2749a10c.35a2c115.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/test.9ca0306f.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('puzzle',_vm._b({on:{\"next\":_vm.handleNext}},'puzzle',_vm.puzzleConfig[_vm.level],false))],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"puzzle\",style:({width : _vm.width + 'px', height : _vm.height + 'px'})},[_vm._l((_vm.blockPoints),function(item,index){return _c('div',{key:item.id,ref:index === _vm.blockPoints.length - 1 ? 'empty' : 'block',refInFor:true,staticClass:\"puzzle__block\",style:({\n             width: _vm.blockWidth + 'px',\n             height: _vm.blockHeight + 'px',\n             left: item.x + 'px',\n             top: item.y + 'px',\n             backgroundImage:(\"url(\" + _vm.img + \")\"),\n             backgroundPosition:(\"-\" + (_vm.correctPoints[index].x) + \"px  -\" + (_vm.correctPoints[index].y) + \"px\"),\n             opacity:index === _vm.blockPoints.length - 1 && 0\n         }),attrs:{\"data-correctX\":_vm.correctPoints[index].x,\"data-correctY\":_vm.correctPoints[index].y},on:{\"click\":_vm.handleClick}})}),_vm._m(0),_vm._m(1)],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('p',[_vm._v(\"拼图游戏\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"picture\"},[_c('img',{attrs:{\"src\":require(\"@a/img/game/test.png\"),\"alt\":\"\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"puzzle\" :style=\"{width : width + 'px', height : height + 'px'}\">\r\n        <div\r\n                class=\"puzzle__block\"\r\n                v-for=\"(item, index) in blockPoints\"\r\n                :key=\"item.id\"\r\n                :style=\"{\r\n             width: blockWidth + 'px',\r\n             height: blockHeight + 'px',\r\n             left: item.x + 'px',\r\n             top: item.y + 'px',\r\n             backgroundImage:`url(${img})`,\r\n             backgroundPosition:`-${correctPoints[index].x}px  -${correctPoints[index].y}px`,\r\n             opacity:index === blockPoints.length - 1 && 0\r\n         }\"\r\n                @click=\"handleClick\"\r\n                :ref=\"index === blockPoints.length - 1 ? 'empty' : 'block'\"\r\n                :data-correctX = \"correctPoints[index].x\"\r\n                :data-correctY = \"correctPoints[index].y\"\r\n        >\r\n        </div>\r\n<!--        <div class=\"picture\" :style=\"{backgroundImage:`url(${img})`}\"></div>-->\r\n<!--        动态获取展示图片-->\r\n        <div class=\"title\"><p>拼图游戏</p></div>\r\n        <div class=\"picture\"><img src=\"@a/img/game/test.png\" alt=\"\"></div>\r\n    </div>\r\n</template>\r\n<script>\r\n    export default {\r\n        props: {\r\n            width: {\r\n                type: Number,\r\n                default: 500\r\n            },\r\n            height: {\r\n                type: Number,\r\n                default: 500\r\n            },\r\n            row: {\r\n                type: Number,\r\n                default: 3\r\n            },\r\n            col: {\r\n                type: Number,\r\n                default: 3\r\n            },\r\n            img: {\r\n                type: String,\r\n                required: true\r\n            }\r\n        },\r\n        computed: {\r\n            //小块的宽度\r\n            blockWidth (){\r\n                return this.width / this.col;\r\n            },\r\n            //小块的高度\r\n            blockHeight (){\r\n                return this.height / this.row;\r\n            },\r\n            //\r\n            correctPoints(){\r\n                const { row,blockWidth, blockHeight } = this;\r\n                const arr = [];\r\n                for(let i = 0; i < row; i++){\r\n                    for(let j = 0; j < row; j++){\r\n                        arr.push({\r\n                            x : j * blockWidth,\r\n                            y: i * blockHeight,\r\n                            id: new Date().getTime() + Math.random() *100\r\n                        })\r\n                    }\r\n                }\r\n                return arr;\r\n            },\r\n            blockPoints (){\r\n                const points = this.correctPoints;\r\n                const length = points.length;\r\n                const lastEle = points[length - 1];\r\n                const newArr = [...points];\r\n                newArr.length = length - 1;\r\n                newArr.sort(() => Math.random() -0.5);\r\n                newArr.push(lastEle);\r\n                return newArr;\r\n            }\r\n        },\r\n        methods: {\r\n            handleClick(e){\r\n                const blockDom = e.target;\r\n                const emptyDom = this.$refs.empty[0];\r\n                if(!this.isAdjacent(blockDom,emptyDom)){\r\n                    return;\r\n                }\r\n                const {left , top} = blockDom.style;\r\n                blockDom.style.left = emptyDom.style.left;\r\n                blockDom.style.top = emptyDom.style.top;\r\n                emptyDom.style.left = left;\r\n                emptyDom.style.top = top;\r\n                const winFlag = this.checkWin();\r\n                if(winFlag){\r\n                    // console.log('success');\r\n                    this.winGame(emptyDom);\r\n                }\r\n            },\r\n            //判断是否可以满足交换条件\r\n            isAdjacent(blockDom,emptyDom){\r\n                const {left:domLeft, top:domTop, width, height } = blockDom.style;\r\n                const {left:emptyLeft, top: emptyTop} = emptyDom.style;\r\n                const xDis = Math.floor(Math.abs(parseFloat(domLeft) - parseFloat(emptyLeft)));\r\n                const yDis = Math.floor(Math.abs(parseFloat(domTop) - parseFloat(emptyTop)));\r\n                const flag = (domLeft === emptyLeft && yDis ===parseInt(height))\r\n                    || (domTop === emptyTop && xDis === parseInt(width));\r\n                return flag;\r\n            },\r\n            //  判断成功，每一个小块的现坐标和原坐标都相等\r\n            checkWin() {\r\n                const blockDomArr = this.$refs.block;\r\n                return blockDomArr.every(dom => {\r\n                    const {left:domLeft, top:domTop} = dom.style;\r\n                    const {correctx:correctX, correcty:correctY} = dom.dataset;\r\n                    const  flag =  parseInt(domLeft) === parseInt(correctX) && parseInt(domTop) === parseInt(correctY);\r\n                    // console.log(flag);\r\n                    return flag;\r\n                })\r\n            },\r\n            //拼图成功\r\n            winGame(emptyDom) {\r\n                setTimeout(()=>{\r\n                    alert('you are so great!');\r\n                    emptyDom.style.opacity = 1;\r\n                    setTimeout(() => {\r\n                        this.goToNextLevel();\r\n                    },300)\r\n                },300)\r\n            },\r\n            //进入下一关\r\n            goToNextLevel(){\r\n                console.log('aaa');\r\n                const answerFlag = window.confirm('继续下一关？');\r\n                if(answerFlag){\r\n                    this.$emit('next');\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .puzzle{\r\n        border:1px solid #d1dbe5;\r\n        position: relative;\r\n        left: 130px;\r\n        top: 350px;\r\n    }\r\n    .puzzle__block{\r\n        box-sizing: border-box;\r\n        background-color: red;\r\n        position: absolute;\r\n        border: 1px solid white;\r\n        transition: all .3s;\r\n    }\r\n    .picture {\r\n        position: absolute;\r\n        top: -300px;\r\n        left: 147px;\r\n    }\r\n    .picture img {\r\n        width: 60%;\r\n    }\r\n    .title {\r\n        position: absolute;\r\n        top: -300px;\r\n        font-weight: bold;\r\n        border: 3px solid #4E655D;\r\n        /*left: 600px;*/\r\n    }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Puzzle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Puzzle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Puzzle.vue?vue&type=template&id=0c9ec54c&\"\nimport script from \"./Puzzle.vue?vue&type=script&lang=js&\"\nexport * from \"./Puzzle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Puzzle.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n            <!-- 子组件通过自己触发next事件与父组件进行通信 -->\r\n            <puzzle v-bind=\"puzzleConfig[level]\" @next = \"handleNext\"></puzzle>\r\n    </div>\r\n</template>\r\n<script>\r\n    import Puzzle from \"./childComps/Puzzle\";\r\n    export default {\r\n        components:{\r\n            Puzzle\r\n        },\r\n        data() {\r\n            return {\r\n                level : 0,  //难易程度\r\n                puzzleConfig :[\r\n                    {row: 3, col: 3, img: require('@a/img/game/test.png')},\r\n                    {row: 4, col: 4, img: require('@a/img/game/test.png')},\r\n                    {row: 5, col: 5, img: require('@a/img/game/test.png')},\r\n                    {row: 6, col: 6, img: require('@a/img/game/test.png')},\r\n                    {row: 8, col: 8, img: require('@a/img/game/test.png')},\r\n                ]\r\n            }\r\n        },\r\n        methods:{\r\n            // 父组件监听到当前事件成功，通过handleNext控制关卡\r\n            handleNext(){\r\n                this.level ++;\r\n                if(this.level == this.puzzleConfig.length){\r\n                    const answerFlag = window.confirm('已经是最后一关了，是否重新开始？');\r\n                    if(answerFlag){\r\n                        this.level = 0;\r\n                    }\r\n                }\r\n                console.log('next');\r\n\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Person.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Person.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Person.vue?vue&type=template&id=05bf9c7e&\"\nimport script from \"./Person.vue?vue&type=script&lang=js&\"\nexport * from \"./Person.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Puzzle.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}